!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueSvgInlinePlugin=t():e.VueSvgInlinePlugin=t()}(self,(function(){return function(){"use strict";var e=function(e,t,r){r.d(t,{default:function(){return $}});var i=JSON.parse('{"u2":"vue-svg-inline-plugin","i8":"2.1.4"}');
/**
 * @author Oliver Findl
 * @version 2.1.4
 * @license MIT
 */
const n=i.u2;const s={directive:{name:"v-svg-inline",spriteModifierName:"sprite"},attributes:{clone:["viewbox"],merge:["class","style"],add:[{name:"focusable",value:!1},{name:"role",value:"presentation"},{name:"tabindex",value:-1}],data:[],remove:["alt","src","data-src"]},cache:{version:i.i8,persistent:!0,removeRevisions:!0},intersectionObserverOptions:{},axios:null,xhtml:!1},o="observer",a="container",c=`${n}-flags`,d=`${n}-sprite`,u=`${d}-container`,l=/.+\.svg(?:[?#].*)?$/i,p=/<svg(\s+[^>]+)?>([\s\S]+)<\/svg>/i,h=/\s*([^\s=]+)[\s=]+(?:"([^"]*)"|'([^']*)')?\s*/g,f=/^[a-z](?:[a-z0-9-:]*[a-z0-9])?$/i,g=/^v-/i,w=/\s+/g,m=/[\n\t]+/g,v=new Set([200,304]);var $={install:(e=null,t={})=>{const r="function";if(!e)throw new Error(`[${n}] Required argument is missing! [VueOrApp]`);if(![r,"object"].includes(typeof e))throw new TypeError(`[${n}] Required argument is not valid! [VueOrApp]`);if(!e.directive)throw new Error(`[${n}] Required method is missing! [VueOrApp.directive]`);if(typeof e.directive!==r)throw new TypeError(`[${n}] Required method is not valid! [VueOrApp.directive]`);if(!e.version)throw new Error(`[${n}] Required property is missing! [VueOrApp.version]`);if("string"!=typeof e.version)throw new TypeError(`[${n}] Required property is not valid! [VueOrApp.version]`);if(e.version.startsWith("1."))throw new Error(`[${n}] Vue@1 is not supported!`);["directive","attributes","cache","intersectionObserverOptions"].forEach((e=>t[e]=Object.assign({},s[e],t[e]||{}))),t=Object.assign({},s,t);for(const e in t.directive)if(t.directive[e]=t.directive[e].toString().trim().toLowerCase(),!t.directive[e]||"name"===e&&!f.test(t.directive[e]))throw new TypeError(`[${n}] Option is not valid! [options.directives.${e}="${t.directives[e]}"]`);t.directive.name=t.directive.name.replace(g,"");for(const e in t.attributes){if(!Array.isArray(t.attributes[e]))throw new TypeError(`[${n}] Option is not valid! [options.attributes.${e}=${JSON.stringify(t.attributes[e])}]`);t.attributes[e]="add"===e?t.attributes[e].map((e=>({name:e.name.toString().trim().toLowerCase(),value:e.value.toString().trim()}))):t.attributes[e].map((e=>e.toString().trim().toLowerCase())),t.attributes[e]=new Set(t.attributes[e])}for(const e in t.cache)t.cache[e]="version"===e?t.cache[e].toString().trim().toLowerCase():!!t.cache[e];t.xhtml=!!t.xhtml;const i=e.version.startsWith("3.");t._fetch="fetch"in window&&typeof fetch===r,t._axios="axios"in window&&typeof axios===r;const $=(e=null)=>!!e&&typeof e===r&&"get"in e&&typeof e.get===r;let b=!1;if(t.axios=((b=$(t.axios))?t.axios:null)||(t._axios&&"create"in axios&&typeof axios.create===r?axios.create():null),t._axios=b||$(t.axios),!t._fetch&&!t._axios)throw new Error(`[${n}] Feature is not supported by browser! [fetch || axios]`);t._observer="IntersectionObserver"in window,t._observer||console.error(`[${n}] Feature is not supported by browser! Disabling lazy processing of image nodes. [IntersectionObserver]`),t._storage="localStorage"in window,!t._storage&&t.cache.persistent&&console.error(`[${n}] Feature is not supported by browser! Disabling persistent cache of SVG files. [localStorage]`);const y=`${n}:${t.cache.version}`;t._storage&&t.cache.removeRevisions&&Object.entries(localStorage).map((e=>e.shift())).filter((e=>e.startsWith(`${n}:`)&&!e.endsWith(`:${t.cache.version}`))).forEach((e=>localStorage.removeItem(e)));const x=t._storage&&t.cache.persistent?new Map(JSON.parse(localStorage.getItem(y)||"[]")):new Map,E=new Set,S=new Map,O=()=>S.has(o)?S.get(o):(()=>{if(!t._observer)throw new Error(`[${n}] Feature is not supported by browser! [IntersectionObserver]`);if(S.has(o))throw new Error(`[${n}] Can not create image node intersection observer, intersection observer already exists!`);const e=new IntersectionObserver(((e,t)=>{for(const r of e){if(!r.isIntersecting)continue;const e=r.target;C(e),t.unobserve(e)}}),t.intersectionObserverOptions);return S.set(o,e),e})(),R=()=>S.has(a)?S.get(a):(()=>{if(S.has(a))throw new Error(`[${n}] Can not create SVG symbol container node, container node already exists!`);let e=q(`<svg xmlns="http://www.w3.org/2000/svg" id="${u}" style="display: none !important;"></svg>`);return document.body.appendChild(e),S.set(a,e=document.getElementById(u)),e})(),q=(e="")=>{if(!e)throw new Error(`[${n}] Required argument is missing! [string]`);if(!(e=e.toString().trim()).startsWith("<")||!e.endsWith(">"))throw new TypeError(`[${n}] Argument is not valid! [string="${e}"]`);return e=e.replace(m,""),document.createRange().createContextualFragment(e)},_=(e="")=>{if(!e)throw new Error(`[${n}] Required argument is missing! [string]`);e=e.toString().trim();const r=new Map;let i;for(h.lastIndex=0;i=h.exec(e);){i.index===h.lastIndex&&h.lastIndex++;const e=(i[1]||"").trim().toLowerCase();if(!e||e.startsWith("<")||e.endsWith(">"))continue;if(!f.test(e))throw new TypeError(`[${n}] Attribute name is not valid! [attribute="${e}"]`);const s=(i[2]||i[3]||"").trim();r.set(e,s||(t.xhtml?e:""))}return r},A=(e=null,r=null)=>{if(!e)throw new Error(`[${n}] Required argument is missing! [file]`);if(!r)throw new Error(`[${n}] Required argument is missing! [node]`);if(!e.path)throw new Error(`[${n}] Required property is missing! [file.path]`);if(e.path=e.path.toString().trim(),!l.test(e.path))throw new TypeError(`[${n}] Argument property is not valid! [file.path="${e.path}"]`);if(!e.content)throw new Error(`[${n}] Required property is missing! [file.content]`);if(e.content=e.content.toString().trim(),!p.test(e.content))throw new TypeError(`[${n}] Argument property is not valid! [file.content="${e.content}"]`);if(!r.outerHTML)throw new Error(`[${n}] Required property is missing! [node.outerHTML]`);return r[c].has("sprite")&&(e.content=e.content.replace(p,((r,i,n)=>{const s=E.has(e.path),o=`${d}-${s?[...E].indexOf(e.path):E.size}`;if(!s){const t=q(`<svg xmlns="http://www.w3.org/2000/svg"><symbol id="${o}"${i}>${n}</symbol></svg>`);R().appendChild(t.firstChild.firstChild),E.add(e.path)}return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"${t.attributes.clone.size&&(i=_(i))?` ${[...t.attributes.clone].filter((e=>!!e&&i.has(e))).map((e=>`${e}="${i.get(e)}"`)).join(" ")}`:""}><use xlink:href="#${o}" href="#${o}"></use></svg>`}))),e.content.replace(p,((e,i,s)=>{const o=_(i),a=((e=null)=>{if(!e)throw new Error(`[${n}] Required argument is missing! [namedNodeAttributeMap]`);if(!(e instanceof NamedNodeMap))throw new TypeError(`[${n}] Argument is not valid! [namedNodeAttributeMap]`);return new Map([...e].map((({name:e,value:r})=>{if(e=(e||"").trim().toLowerCase(),!f.test(e))throw new TypeError(`[${n}] Attribute name is not valid! [attribute="${e}"]`);return[e,(r=(r||"").trim())||(t.xhtml?e:"")]})))})(r.attributes);i=new Map([...o,...a]);const c=new Set(["class"]);for(const e of t.attributes.merge){const r=o.has(e)?o.get(e).split(w).filter((e=>!!e)):[],n=a.has(e)?a.get(e).split(w).filter((e=>!!e)):[];if(t.xhtml&&!r.length&&!n.length)continue;const s=[...r,...n];i.set(e,(c.has(e)?[...new Set(s)]:s).join(" ").trim())}for(const e of t.attributes.add){let r=e.value.split(w).filter((e=>!!e));if(i.has(e.name)){if(!t.attributes.merge.has(e.name))throw new Error(`[${n}] Can not add attribute, attribute already exists. [${e.name}]`);const s=i.get(e.name).split(w).filter((e=>!!e));if(t.xhtml&&!r.length&&!s.length)continue;r=[...s,...r]}i.set(e.name,(c.has(e.name)?[...new Set(r)]:r).join(" ").trim())}for(const e of t.attributes.data){if(!i.has(e))continue;let r=i.get(e).split(w).filter((e=>!!e));const s=`data-${e}`;if(i.has(s)){if(!t.attributes.merge.has(s))throw new Error(`[${n}] Can not transform attribute to data-attribute, data-attribute already exists. [${e}]`);const o=i.get(s).split(w).filter((e=>!!e));if(t.xhtml&&!r.length&&!o.length)continue;r=[...o,...r]}i.set(s,(c.has(e)?[...new Set(r)]:r).join(" ").trim()),t.attributes.remove.has(e)||t.attributes.remove.add(e)}for(const e of t.attributes.remove)i.has(e)&&i.delete(e);return`<svg${i.size?` ${[...i.keys()].filter((e=>!!e)).map((e=>`${e}="${i.get(e)}"`)).join(" ")}`:""}>${s}</svg>`}))},C=(e=null)=>{if(!e)throw new Error(`[${n}] Required argument is missing! [node]`);if(!e.dataset.src&&!e.src)throw new Error(`[${n}] Required property is missing! [node.data-src || node.src]`);e.dataset.src&&(e.dataset.src=e.dataset.src.toString().trim()),e.src&&(e.src=e.src.toString().trim()),((e="")=>{if(!t._fetch&&!t._axios)throw new Error(`[${n}] Feature is not supported by browser! [fetch || axios]`);if(!e)throw new Error(`[${n}] Required argument is missing! [path]`);if(e=e.toString().trim(),!l.test(e))throw new TypeError(`[${n}] Argument is not valid! [path="${e}"]`);return new Promise(((r,i)=>{const n={path:e};if(x.has(n.path))return n.content=x.get(n.path),r(n);(t._axios?t.axios.get:fetch)(n.path).then((e=>{if(!v.has(0|e.status))throw new Error(`Wrong response status! [response.status=${e.status}]`);return t._axios?e.data.toString():e.text()})).then((e=>(n.content=e.trim(),x.set(n.path,n.content),t._storage&&t.cache.persistent&&localStorage.setItem(y,JSON.stringify([...x])),r(n)))).catch(i)}))})(e.dataset.src||e.src).then((t=>{const r=A(t,e),i=q(r);((e=null,t=null)=>{if(!e)throw new Error(`[${n}] Required argument is missing! [node]`);if(!t)throw new Error(`[${n}] Required argument is missing! [newNode]`);if(!e.parentNode)throw new Error(`[${n}] Required property is missing! [node.parentNode]`);e.parentNode.replaceChild(t,e)})(e,i)})).catch((e=>console.error(`[${n}] ${e.toString()}`)))},N=(e=null,r=null,s=null)=>{if(!e)throw new Error(`[${n}] Required argument is missing! [node]`);if(!s)throw new Error(`[${n}] Required argument is missing! [vnode]`);if(e[c]||(e[c]=new Set),e[c].has("processed"))return;e[c].add("processed");const o=i?s.dirs:s.data.directives;if(o.length>1)throw new Error(`[${n}] Node has more than 1 directive! [${i?"vnode.dirs":"vnode.data.directives"}]`);o[0].modifiers[t.directive.spriteModifierName]&&e[c].add("sprite"),!t._observer&&e.dataset.src&&(e.src=e.dataset.src,delete e.dataset.src),e.dataset.src?O().observe(e):C(e)};e.directive(t.directive.name,i?{beforeMount:N}:{bind:N})}}},t={d:function(e,r){for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},r={};return e(0,r,t),r=r.default}()}));